# AWD攻防赛



AWD（Attack With Defense，攻防兼备）模式，就是在一个比赛里面扮演攻击方和防守方。

攻击靶机获取Flag拿到分数，防守自己的靶机不被扣分。



主要是Web方向

然后出题方给每一支队伍部署同样环境的主机，主机有一台或者多台。

拿到机器后每个队伍会有一定的加固时间或没有加固时间。

拿到对方的flag就可以交给裁判机，如果洞还存在就一直得分。因为flag动态变化



一般考核Web、数据库、内网渗透等



一般三人一队





流程就像是红蓝攻防那种：

## 己方防守

- 网站的源码dump下来，然后用D盾、seay、火绒等工具进行快速查杀，排除掉一些明显的漏洞和webshell、后门等。
- 备份网站源码和数据库，防止自己搞炸了，然后裁判机会定时check服务是否正常运行的，不正常也会扣分，一些阴间的队伍拿到shell会直接删服务也是有可能；
- 改掉网站的配置文件、配置选项
- 检查端口和用户组，不需要的端口就关闭掉，然后ssh、数据库默认密码之类的常规检查，重点是用户组的权限和密码，有无弱密码，然后就是看有无影子用户；
- kill掉可疑进程
- 部署WAF，提前准备快速部署，同时保证服务可用；
- 写监控脚本，人为查询不可取，写一个脚本定时查询监控文件、用户数量、不正常进程等等，脚本注意，要确保在普通用户的权限下也能运行
- 看自己的得分榜，别被人打了都不知道
- tcpdump流量然后wireshark分析





## 己方攻击

- 自己网站有马，那基本上写个exp打全场可以试一下得分，看一下有没有大怨种
- 提权漏洞



常规攻击流程也都是信息收集、攻击、web服务、维权







打别人就考虑种不死马、反弹shell等操作